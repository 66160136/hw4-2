<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
            text-align: center;
        }
        input, select, button {
            margin: 5px;
            padding: 10px;
            width: 100%;
        }
        button {
            cursor: pointer;
            background-color: #28a745;
            color: white;
            border: none;
        }
        button.delete-btn {
            background-color: #dc3545;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>üì¶ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
        <div class="input-section">
            <input type="text" id="productName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">
            <input type="number" id="productPrice" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤">
            <input type="number" id="productStock" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤">

            <select id="productCategory">
                <option value="Food & Beverages">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</option>
                <option value="Electronics & Appliances">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</option>
                <option value="Fashion & Apparel">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢</option>
            </select>

            <button onclick="addProduct()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
        </div>

        <div class="stats">
            <h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
            <ul id="productList"></ul>
            <h4>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</h4>
            <ul id="lowStockList"></ul>
            <h4>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h4>
            <ul id="bestSellingList"></ul>
            <h4>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="totalRevenue">0 ‡∏ö‡∏≤‡∏ó</span></h4>
            <button onclick="generateSaleReport()">üìä ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</button>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            displayProducts();
        });

        function getProducts() {
            return JSON.parse(localStorage.getItem('products')) || [];
        }

        function saveProducts(products) {
            localStorage.setItem('products', JSON.stringify(products));
        }

        function addProduct() {
            const name = document.getElementById("productName").value;
            const price = parseFloat(document.getElementById("productPrice").value);
            const inStock = parseInt(document.getElementById("productStock").value);
            const category = document.getElementById("productCategory").value;

            if (!name || isNaN(price) || isNaN(inStock)) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô!");
                return;
            }

            const newProduct = {
                id: Date.now().toString(),
                name,
                price,
                inStock,
                category,
                totalSales: 0
            };

            const products = getProducts();
            products.push(newProduct);
            saveProducts(products);
            displayProducts();

            document.getElementById("productName").value = "";
            document.getElementById("productPrice").value = "";
            document.getElementById("productStock").value = "";
        }

        function updateStock(index, quantity) {
            let products = getProducts();
            quantity = parseInt(quantity);

            if (quantity >= 0) {
                products[index].inStock = quantity;
                saveProducts(products);
                displayProducts();
            } else {
                alert("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏•‡∏ö!");
            }
        }

        function checkLowStock() {
            const products = getProducts();
            return products.filter(product => product.inStock < 5);
        }

        function sellProduct(index) {
            let products = getProducts();
            if (products[index].inStock > 0) {
                products[index].inStock--;
                products[index].totalSales++;
                saveProducts(products);
                displayProducts();
            } else {
                alert("‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î‡∏™‡∏ï‡πá‡∏≠‡∏Å!");
            }
        }

        function deleteProduct(index) {
            let products = getProducts();
            products.splice(index, 1);
            saveProducts(products);
            displayProducts();
        }

        function generateSaleReport() {
            const products = getProducts();
            let report = "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\n\n";

            products.forEach(product => {
                report += `üîπ ${product.name}: ‡∏Ç‡∏≤‡∏¢‡πÑ‡∏õ ${product.totalSales} ‡∏ä‡∏¥‡πâ‡∏ô | ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏° ${product.totalSales * product.price} ‡∏ö‡∏≤‡∏ó\n`;
            });

            report += `\n ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${products.reduce((sum, p) => sum + (p.totalSales * p.price), 0)} ‡∏ö‡∏≤‡∏ó`;

            alert(report);
        }

        function displayProducts() {
            const products = getProducts();
            const productList = document.getElementById("productList");
            const lowStockList = document.getElementById("lowStockList");
            const bestSellingList = document.getElementById("bestSellingList");

            productList.innerHTML = "";
            lowStockList.innerHTML = "";
            bestSellingList.innerHTML = "";

            let totalSales = 0;

            products.forEach((product, index) => {
                totalSales += product.totalSales * product.price;

                let listItem = document.createElement("li");
                listItem.innerHTML = `
                    ${product.name} - ${product.price} ‡∏ö‡∏≤‡∏ó | ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 
                    <input type="number" value="${product.inStock}" min="0" onchange="updateStock(${index}, this.value)">
                    | ‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß: ${product.totalSales}
                    <button onclick="sellProduct(${index})">‡∏Ç‡∏≤‡∏¢</button>
                    <button onclick="deleteProduct(${index})" class="delete-btn">‡∏•‡∏ö</button>
                `;
                productList.appendChild(listItem);
            });

            const bestSellingProducts = [...products].sort((a, b) => b.totalSales - a.totalSales).slice(0, 5);
            bestSellingProducts.forEach((product) => {
                let bestSellingItem = document.createElement("li");
                bestSellingItem.textContent = `${product.name} - ‡∏Ç‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ${product.totalSales} ‡∏ä‡∏¥‡πâ‡∏ô`;
                bestSellingList.appendChild(bestSellingItem);
            });

            checkLowStock().forEach(product => {
                let lowStockItem = document.createElement("li");
                lowStockItem.textContent = `${product.name} - ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${product.inStock} ‡∏ä‡∏¥‡πâ‡∏ô`;
                lowStockList.appendChild(lowStockItem);
            });

            document.getElementById("totalRevenue").textContent = totalSales.toLocaleString() + " ‡∏ö‡∏≤‡∏ó";
        }
    </script>
</body>

</html>
